<div
  class="sidebar glass-morphism h-100 p-3 custom-scrollbar d-flex flex-column"
  style="overflow-y: auto"
>
  <div class="list-group list-group-flush gap-1 flex-grow-1">
    <a
      routerLink="/dashboard"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-grid-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('common.dashboard') }}</span>
    </a>

    <div
      class="text-uppercase x-small-compact fw-bold text-muted px-3 mt-2 mb-1"
      style="letter-spacing: 1px"
    >
      {{ langService.translate('sidebar.medicalManagement') }}
    </div>

    <a
      routerLink="/appointments"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-calendar-event-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.appointments') }}</span>
    </a>

    <a
      *ngIf="authService.hasRole(['SUPERADMIN', 'ADMINISTRATIVE', 'DOCTOR'])"
      routerLink="/video-history"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-camera-video-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('video_history.sidebar') }}</span>
    </a>

    <a
      *ngIf="!authService.hasRole(['PATIENT'])"
      routerLink="/history"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-journal-medical fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.history') }}</span>
    </a>

    <a
      *ngIf="!authService.hasRole(['PATIENT'])"
      routerLink="/patients"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-people-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.patients') }}</span>
    </a>

    <a
      *ngIf="!authService.hasRole(['PATIENT'])"
      routerLink="/lab-results"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-eyedropper fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.lab') }}</span>
    </a>

    <div
      *ngIf="!authService.hasRole(['PATIENT'])"
      class="text-uppercase x-small-compact fw-bold text-muted px-3 mt-2 mb-1"
      style="letter-spacing: 1px"
    >
      {{ langService.translate('sidebar.medicalStaff') }}
    </div>

    <a
      *ngIf="!authService.hasRole(['PATIENT'])"
      routerLink="/doctors"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-person-badge-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.doctors') }}</span>
    </a>

    <a
      *ngIf="!authService.hasRole(['PATIENT'])"
      routerLink="/nurses"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-person-heart fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.nurses') }}</span>
    </a>

    <div
      class="text-uppercase x-small-compact fw-bold text-muted px-3 mt-2 mb-1"
      style="letter-spacing: 1px"
    >
      {{ langService.translate('sidebar.administration') }}
    </div>

    <a
      *ngIf="!authService.hasRole(['PATIENT'])"
      routerLink="/staff"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-briefcase-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.staff') }}</span>
    </a>

    <a
      *ngIf="authService.hasRole(['SUPERADMIN', 'ADMINISTRATIVE', 'PATIENT'])"
      routerLink="/payments"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-credit-card-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.payments') }}</span>
    </a>

    <a
      *ngIf="authService.hasRole(['SUPERADMIN'])"
      routerLink="/bulk-import"
      routerLinkActive="active"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3"
    >
      <i class="bi bi-cloud-arrow-up-fill fs-5"></i>
      <span class="fw-medium">{{ langService.translate('sidebar.bulkData') }}</span>
    </a>
  </div>

  <div class="mt-auto pt-2">
    <div class="border-top mb-2 opacity-25"></div>
    <a
      routerLink="/login"
      class="list-group-item list-group-item-action border-0 rounded-3 py-1-5 d-flex align-items-center gap-3 text-danger logout-item"
    >
      <i class="bi bi-box-arrow-left fs-5"></i>
      <span class="fw-bold x-small">{{ langService.translate('navbar.logout') }}</span>
    </a>
  </div>
</div>

<style>
  .py-1-5 {
    padding-top: 0.4rem !important;
    padding-bottom: 0.4rem !important;
  }
  .x-small-compact {
    font-size: 0.65rem !important;
  }
  .x-small {
    font-size: 0.75rem !important;
  }
  .list-group-item {
    background: transparent;
    color: var(--text-muted);
    transition: all 0.2s ease;
  }
  .list-group-item:hover {
    background: rgba(14, 165, 233, 0.1);
    color: var(--primary);
  }
  .list-group-item.active {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white !important;
    box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
  }
  .logout-item:hover {
    background: rgba(239, 68, 68, 0.1) !important;
    color: #dc2626 !important;
  }
  .sidebar i {
    width: 24px;
    text-align: center;
  }
</style>
